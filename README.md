# LunağŸŒ›

åŸºäºhexoæ­å»ºçš„ä¸ªäººBlogï¼Œå­˜å­˜ç¬”è®°ã€‚

Demoï¼š[Allen | å‰ç«¯å¼€å‘](https://js-coder.cn/)

å¦‚æœä½ å®¡ç¾å’Œæˆ‘å·®ä¸å¤šçš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡¹ç›®å¯ä»¥è®©ä½ 5åˆ†é’Ÿå†…å¿«é€Ÿæ­å»ºç²¾ç¾çš„ä¸ªäººåšå®¢

âš ï¸ **ç”±äºè¿™æ˜¯æˆ‘çš„ä¸ªäººä»“åº“ï¼Œæ”¹åŠ¨æ¯”è¾ƒéšæ„ï¼å»ºè®®ä¸è¦ç›´æ¥cloneï¼Œè¯·forkä¸€ä»½ä»£ç è¿›è¡Œéƒ¨ç½²**



# ç¯å¢ƒ

éœ€è¦æå‰å‡†å¤‡å¥½ï¼š

- [Noe.js](https://nodejs.org/en/) ï¼ˆNode.js ç‰ˆæœ¬éœ€ä¸ä½äº 16.14ï¼‰
- [Git](https://git-scm.com/)

è¯·ä¾ç…§å®˜æ–¹æ–‡æ¡£æŒ‡å¼•è¿›è¡Œå®‰è£… ğŸ‘†ğŸ»



# å®‰è£…

å‡†å¤‡å¥½å¯åŠ¨é¡¹ç›®æ‰€éœ€çš„è½¯ä»¶åï¼Œä½¿ç”¨npmå®‰è£…é¡¹ç›®ä¾èµ–ã€‚

```bash
npm install
```

å¦‚æœinstallè¾ƒä¹…æˆ–è€…è¶…æ—¶ï¼Œä½¿ç”¨é•œåƒæºè¿›è¡Œå®‰è£…ã€‚

```bash
npm install --registry=https://registry.npmmirror.com
```

ä¾èµ–å®‰è£…å®Œæˆä»¥åï¼Œå³å¯å¯åŠ¨é¡¹ç›®ã€‚

```bash
npm run server
```

é»˜è®¤ä¼šåœ¨æœ¬åœ°`4000`ç«¯å£å¯åŠ¨ï¼Œè®¿é—® http://localhost:4000/ æŸ¥çœ‹æ•ˆæœã€‚

**ğŸ“¢ æ³¨æ„ï¼šé¡¹ç›®çš„hexoå±äºå±€éƒ¨å®‰è£…ï¼Œå¦‚æœä½ å¸Œæœ›ä½¿ç”¨hexoå‘½ä»¤ï¼Œè¯·ä½¿ç”¨`node_modules/.bin/hexo`**



# æ‰‹åŠ¨éƒ¨ç½²

é¡¹ç›®è¿˜é›†æˆäº†WEBæœåŠ¡å™¨ä»¥åŠè¿›ç¨‹å®ˆæŠ¤ï¼Œæ— éœ€é…ç½®å¼€ç®±å³ç”¨ğŸ”¥

```bash
npm run deploy
```

deployå‘½ä»¤ä¼šä¸»åŠ¨pullä»£ç å¹¶æ›´æ–°npmä¾èµ–ï¼Œå¦‚æœä½ ä¸éœ€è¦

```bash
npm run start
```



# è‡ªåŠ¨éƒ¨ç½²

é¡¹ç›®æä¾›äº†ä¸€ä¸ªåŸºäºwebhookçš„è‡ªåŠ¨éƒ¨ç½²æ–¹å¼ğŸ‚ï¼Œå¯ä»¥åœ¨æ¨é€ä»£ç ä¹‹åï¼Œè‡ªåŠ¨è§¦å‘æ„å»ºã€‚

è¿™ç§æ–¹å¼éœ€è¦ä¸€ç‚¹é…ç½®å·¥ä½œï¼š

1. åˆ›å»ºgithub webhook

åœ¨ä»“åº“Settings/Webhooks -> ç‚¹å‡» **Add webhooks**

![image-20220721193007310](https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/202207211930351.png)

**ğŸ“ å…³äºSecretéšä¾¿å†™ä¸€ä¸ªå°±è¡Œäº†ï¼Œæ³¨æ„ä¿å­˜å¥½ï¼Œä¸€ä¼šè¿˜è¦ç”¨åˆ°ã€‚**

2. è®¾ç½®ç¯å¢ƒå˜é‡

ç™»å½•æœºå™¨ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»º.envæ–‡ä»¶

```bash
cd luna
vim .env
```

å†™å…¥åœ¨ç¬¬ä¸€æ­¥ä¸­å¡«å†™çš„**Secret**

```tex
HUB_SECRET=ä½ çš„Secret
```

ä¿å­˜å¹¶é€€å‡ºã€‚

3. æµ‹è¯•æ˜¯å¦ç”Ÿæ•ˆ

   é¦–å…ˆæœ¬åœ°ä»»æ„commitï¼Œpushåˆ°githubã€‚

   è¿›å…¥Settings/Webhooksï¼Œæ‰¾åˆ°åˆšåˆšåˆ›å»ºçš„webhookç‚¹**Edit**

   ![image-20220721193950494](https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/202207211939531.png)

   ç‚¹å‡»**Recent Deliveries**

   ![image-20220721194534142](https://sls-cloudfunction-ap-guangzhou-code-1300044145.file.myqcloud.com/upload/202207211945182.png)

å¦‚æœçœ‹åˆ°`webhook success`ï¼Œé‚£ä¹ˆæ­å–œğŸ‰~ 

âš ï¸ **è‡ªåŠ¨éƒ¨ç½²ä»…æ”¯æŒé‡æ–°æ„å»ºblogç›¸å…³çš„commitã€‚**

â€‹	

